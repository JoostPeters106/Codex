<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tournament</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Tournament Started</h1>

    <section>
        <h2>Players</h2>
        <ul>
            {% for p in players %}
            <li>{{ p }}</li>
            {% endfor %}
        </ul>
    </section>

    <section>
        <h2>Group A</h2>
        <p>{{ ', '.join(group_a) }}</p>
        <h3>Matches</h3>
        <table>
            <tr><th>Match</th><th>Score</th></tr>
            {% for m in schedule_a %}
            <tr>
                <td>{{ m.p1 }} vs {{ m.p2 }}</td>
                <td>
                    {% if m.score1 is none %}
                    <form action="{{ url_for('record_score', group='A', index=loop.index0) }}" method="post" style="display:inline">
                        <input type="number" name="score1" min="0" required style="width:3em;">
                        -
                        <input type="number" name="score2" min="0" required style="width:3em;">
                        <button type="submit" class="styled-button">Save</button>
                    </form>
                    {% else %}
                    {{ m.score1 }} - {{ m.score2 }}
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </table>
        <h3>Standings</h3>
        <table>
            <tr><th>Player</th><th>Points</th><th>GD</th></tr>
            {% for s in standings_a %}
            <tr><td>{{ s.name }}</td><td>{{ s.points }}</td><td>{{ s.gd }}</td></tr>
            {% endfor %}
        </table>
    </section>

    <section>
        <h2>Group B</h2>
        <p>{{ ', '.join(group_b) }}</p>
        <h3>Matches</h3>
        <table>
            <tr><th>Match</th><th>Score</th></tr>
            {% for m in schedule_b %}
            <tr>
                <td>{{ m.p1 }} vs {{ m.p2 }}</td>
                <td>
                    {% if m.score1 is none %}
                    <form action="{{ url_for('record_score', group='B', index=loop.index0) }}" method="post" style="display:inline">
                        <input type="number" name="score1" min="0" required style="width:3em;">
                        -
                        <input type="number" name="score2" min="0" required style="width:3em;">
                        <button type="submit" class="styled-button">Save</button>
                    </form>
                    {% else %}
                    {{ m.score1 }} - {{ m.score2 }}
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </table>
        <h3>Standings</h3>
        <table>
            <tr><th>Player</th><th>Points</th><th>GD</th></tr>
            {% for s in standings_b %}
            <tr><td>{{ s.name }}</td><td>{{ s.points }}</td><td>{{ s.gd }}</td></tr>
            {% endfor %}
        </table>
    </section>
</body>
</html>